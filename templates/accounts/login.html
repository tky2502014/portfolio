<!-- templates/accounts/login.html -->

{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Log In</title>

    <!-- Bootstrap core CSS (v5.3 for consistency) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous">

    <!-- Custom styles for this template: Centers the form -->
    <link href="{% static 'css/signin.css' %}" rel="stylesheet">
  </head>
  
  <body class="text-center">    
    <main class="form-signin">
      <!-- Error message if credentials do not match -->
      {% if form.errors %}
        <p class="text-danger">Your username and password didn't match. Please try again.</p>
      {% endif %}
       
      <!-- Login Form -->
      <form method="post">
        {% csrf_token %}

        <!-- Logo/Icon placeholder -->
        <img class="mb-4"
          src="{% static 'img/bootstrap-logo.svg' %}"
          alt="Bootstrap Logo" width="72"
          height="57">

        <h1 class="h3 mb-3 fw-normal">Please sign in</h1>
        
        <!-- Username Input -->
        <label for="id_username" class="visually-hidden">User name</label>
        <input type="text"
          name="username"
          id="id_username"
          maxlength="150"
          autocapitalize="none"
          autocomplete="username"
          class="form-control"
          placeholder="Username"
          required autofocus>
          
        <!-- Password Input -->
        <label for="id_password" class="visually-hidden">Password</label>
        <input type="password"
          name="password"
          id="id_password"
          autocomplete="current-password"
          class="form-control"
          placeholder="Password"
          required>

        <!-- Submit Button -->
        <input class="w-100 btn btn-lg btn-primary"
          type="submit"
          value="Log In">
          
        <!-- Forgot Password Link -->
        <div class="mt-3">
          <p><a href="{% url 'accounts:password_reset' %}">Forgot your password?</a></p>
          <p class="text-muted">Need an account? <a href="{% url 'accounts:signup' %}">Sign up here</a></p>
          </div>

        <!-- Hidden field for redirect after successful login -->
        <input type="hidden"
          name="next"
          value="{% url 'home' %}">
      </form>
    </main>   
  </body>
</html>
