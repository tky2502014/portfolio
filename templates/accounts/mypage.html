<!-- templates/accounts/mypage.html -->

{% extends 'base.html' %}
{% block title %}My Page{% endblock %}

{% block contents %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8 py-4">
            <div class="card shadow-sm p-4">
                <h2 class="card-title mb-4">Welcome, {{ user.username }}</h2>
                <h4 class="text-muted">My Profile Information</h4>
                
                <ul class="list-group list-group-flush mb-4">
                    <li class="list-group-item"><strong>Username:</strong> {{ user.username }}</li>
                    {% if user.email %}
                        <li class="list-group-item"><strong>Email:</strong> {{ user.email }}</li>
                    {% else %}
                        <li class="list-group-item text-warning"><strong>Email:</strong> Not set (Highly recommended for password recovery!)</li>
                    {% endif %}
                    <li class="list-group-item"><strong>Account Created:</strong> {{ user.date_joined|date:"M d, Y" }}</li>
                </ul>
                
                <h4 class="mt-4 text-muted">Account Actions</h4>
                <div class="d-flex flex-column flex-md-row gap-2">
                    <!-- Assuming 'password_change' is configured in urls.py -->
                    <a href="{% url 'accounts:password_change' %}" class="btn btn-outline-secondary">Change Password</a>
                    <a href="#" class="btn btn-outline-secondary">Edit Profile Details (Future Feature)</a>
                    <form action="{% url 'accounts:logout' %}" method="post" class="btn btn-danger">
                        {% csrf_token %}
                        <button type="submit" class="dropdown-item">
                            <i class="fas fa-sign-out-alt me-2"></i> Log Out
                        </button>
                    </form>
                </div>

                <h4 class="text-muted mt-4">My Dashboard Overview</h4>
                <p class="mt-2">This section will contain an overview of your portfolio projects, financial summaries, or other personal app data.</p>
                <a href="#" class="btn btn-info mt-2">Go to Finance Dashboard</a>

            </div>
        </div>
    </div>
</div>
{% endblock %}
